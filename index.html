<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>unicode editor</title>
</head>
<style>
textarea {
  font-size: x-large;
  height: 10em;
  width: calc(100% - 8px);
}

[type=checkbox] {
  display: none
}

label {
  background: #ddd;
  border: black solid 1px;
  border-radius: 3px;
  display:inline-block;
  text-align: center;
  width: 3ch;
}

:checked + label {
  background: #aaa;
}

[type=button] {
  font-family: inherit;
  margin: 1px;
  width: 3ch;
}

#menubar {
  display: flex;
}

hr {
  flex-grow: 1;
  margin-left: 0px;
  border: 0;
}
</style>

<body>
<div id="menubar">
<input type="checkbox" id="bold" onclick="this.checked && fmt_selection(map.bf); input.focus();"><label for="bold">ğ—•</label>
<input type="checkbox" id="italic" onclick="this.checked && (cursive.checked = false, fmt_selection(map.it)); input.focus();"><label for="italic" style="font-family: Arial;">ğ˜</label>
<input type="checkbox" id="serif" onclick="input.focus();"><label for="serif" style="font-family: Times">S</label>
<input type="checkbox" id="cursive" onclick="this.checked && (italic.checked = false, fmt_selection(map.cu)); input.focus();"><label for="cursive">ğ’</label>
<input type="checkbox" id="mono" onclick="this.checked && (cursive.checked = false, fmt_selection(map.it)); input.focus();"><label for="mono" style="font-family: Times">ğšƒ</label>
<input type="checkbox" id="greek" onclick="this.checked && fmt_selection(map.gr); input.focus();"><label for="greek">Î±</label>
<input type="checkbox" id="auto_math" onclick="this.checked && (serif.checked = italic.checked = true, cursive.checked = false); input.focus();"><label for="auto_math">âˆ®</label>
<hr>
<span>basic font </span> <select name="basicfont" id="basicfont" onchange='input.style.setProperty("font-family", this.value); keyboard.style.setProperty("font-family", this.value)'>
  <option value="none" selected></option>
  <option value="Times">Times</option>
  <option value="Arial">Arial</option>
  <option value="Arial, sans-serif">Arial, sans-serif</option>
  <option value="Monospace">Monospace</option>
</select>
</div>
<div style="display: flex">
<input type="number" id="codePoint" onchange="abc.value = [...Array(100)].map((x,i) => String.fromCodePoint(+i+(+this.value))).join('')" step="52">
<input id="abc" onchange="codePoint.value = this.value.codePointAt(0)" style="flex: 1;">
</div>
<textarea id="input" onbeforeinput="fmt_unicode(event.data) && event.preventDefault();"></textarea>
<br>
<!-- <textarea id="output">Í°Í±Í²Í³Í´Í¶Í·ÍºÍ»Í¼Í½Í¿Î†ÎˆÎ‰ÎŠÎŒÎÎÎÎ‘Î’Î“Î”Î•Î–Î—Î˜Î™ÎšÎ›ÎœÎÎÎŸÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©ÎªÎ«Î¬Î­Î®Î¯Î°Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿Ï€ÏÏ‚ÏƒÏ„Ï…Ï†Ï‡ÏˆÏ‰ÏŠÏ‹ÏŒÏÏÏÏÏ‘Ï’Ï“Ï”Ï•Ï–Ï—Ï˜Ï™ÏšÏ›ÏœÏÏÏŸÏ Ï¡Ï°Ï±Ï²Ï³Ï´ÏµÏ·Ï¸Ï¹ÏºÏ»Ï¼Ï½Ï¾Ï¿</textarea> -->
<div id="keyboard"></div>
<br>
see also
<a href="https://github.com/mzechmeister/unicodeeditor">https://github.com/mzechmeister/unicodeeditor</a><br>

<script>

function get_chars(A_char, z_char) {
    Apos = A_char.codePointAt(0)
    zpos = z_char.codePointAt(0)
    acc = []
    for (var i=Apos; i<=zpos; ++i) acc.push( String.fromCodePoint(i))
    return acc
}

map_Az = get_chars('A', 'z')
map_Az.splice(26,6) //.replace(/\[\\]\^_`/g,'')

map = {}
"ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz"
map.ss     = "ğ– ğ–¡ğ–¢ğ–£ğ–¤ğ–¥ğ–¦ğ–§ğ–¨ğ–©ğ–ªğ–«ğ–¬ğ–­ğ–®ğ–¯ğ–°ğ–±ğ–²ğ–³ğ–´ğ–µğ–¶ğ–·ğ–¸ğ–¹ğ–ºğ–»ğ–¼ğ–½ğ–¾ğ–¿ğ—€ğ—ğ—‚ğ—ƒğ—„ğ—…ğ—†ğ—‡ğ—ˆğ—‰ğ—Šğ—‹ğ—Œğ—ğ—ğ—ğ—ğ—‘ğ—’ğ—“" // 120224 math sans-serif
map.ssit   = "ğ˜ˆğ˜‰ğ˜Šğ˜‹ğ˜Œğ˜ğ˜ğ˜ğ˜ğ˜‘ğ˜’ğ˜“ğ˜”ğ˜•ğ˜–ğ˜—ğ˜˜ğ˜™ğ˜šğ˜›ğ˜œğ˜ğ˜ğ˜Ÿğ˜ ğ˜¡ğ˜¢ğ˜£ğ˜¤ğ˜¥ğ˜¦ğ˜§ğ˜¨ğ˜©ğ˜ªğ˜«ğ˜¬ğ˜­ğ˜®ğ˜¯ğ˜°ğ˜±ğ˜²ğ˜³ğ˜´ğ˜µğ˜¶ğ˜·ğ˜¸ğ˜¹ğ˜ºğ˜»" // 120328
map.ssbf   = "ğ—”ğ—•ğ—–ğ——ğ—˜ğ—™ğ—šğ—›ğ—œğ—ğ—ğ—Ÿğ— ğ—¡ğ—¢ğ—£ğ—¤ğ—¥ğ—¦ğ—§ğ—¨ğ—©ğ—ªğ—«ğ—¬ğ—­ğ—®ğ—¯ğ—°ğ—±ğ—²ğ—³ğ—´ğ—µğ—¶ğ—·ğ—¸ğ—¹ğ—ºğ—»ğ—¼ğ—½ğ—¾ğ—¿ğ˜€ğ˜ğ˜‚ğ˜ƒğ˜„ğ˜…ğ˜†ğ˜‡" // 120276
map.ssbfit = "ğ˜¼ğ˜½ğ˜¾ğ˜¿ğ™€ğ™ğ™‚ğ™ƒğ™„ğ™…ğ™†ğ™‡ğ™ˆğ™‰ğ™Šğ™‹ğ™Œğ™ğ™ğ™ğ™ğ™‘ğ™’ğ™“ğ™”ğ™•ğ™–ğ™—ğ™˜ğ™™ğ™šğ™›ğ™œğ™ğ™ğ™Ÿğ™ ğ™¡ğ™¢ğ™£ğ™¤ğ™¥ğ™¦ğ™§ğ™¨ğ™©ğ™ªğ™«ğ™¬ğ™­ğ™®ğ™¯" // 120380
map.it     = "ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ‘€ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘ğ‘ğ‘ğ‘ğ‘‘ğ‘’ğ‘“ğ‘”ğ‘•ğ‘–ğ‘—ğ‘˜ğ‘™ğ‘šğ‘›ğ‘œğ‘ğ‘ğ‘Ÿğ‘ ğ‘¡ğ‘¢ğ‘£ğ‘¤ğ‘¥ğ‘¦ğ‘§" // 119860 math italic
map.it     = "ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ‘€ğ‘ğ‘‚ğ‘ƒğ‘„ğ‘…ğ‘†ğ‘‡ğ‘ˆğ‘‰ğ‘Šğ‘‹ğ‘Œğ‘ğ‘ğ‘ğ‘ğ‘‘ğ‘’ğ‘“ğ‘”â„ğ‘–ğ‘—ğ‘˜ğ‘™ğ‘šğ‘›ğ‘œğ‘ğ‘ğ‘Ÿğ‘ ğ‘¡ğ‘¢ğ‘£ğ‘¤ğ‘¥ğ‘¦ğ‘§" // fix
map.bf     = "ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³" // 119808
map.bfit   = "ğ‘¨ğ‘©ğ‘ªğ‘«ğ‘¬ğ‘­ğ‘®ğ‘¯ğ‘°ğ‘±ğ‘²ğ‘³ğ‘´ğ‘µğ‘¶ğ‘·ğ‘¸ğ‘¹ğ‘ºğ‘»ğ‘¼ğ‘½ğ‘¾ğ‘¿ğ’€ğ’ğ’‚ğ’ƒğ’„ğ’…ğ’†ğ’‡ğ’ˆğ’‰ğ’Šğ’‹ğ’Œğ’ğ’ğ’ğ’ğ’‘ğ’’ğ’“ğ’”ğ’•ğ’–ğ’—ğ’˜ğ’™ğ’šğ’›" //119912 = 119860 + 52
map.cu     = "ğ’œğ’ğ’ğ’Ÿğ’ ğ’¡ğ’¢ğ’£ğ’¤ğ’¥ğ’¦ğ’§ğ’¨ğ’©ğ’ªğ’«ğ’¬ğ’­ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µğ’¶ğ’·ğ’¸ğ’¹ğ’ºğ’»ğ’¼ğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒğ“„ğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“" // 119964 = 119912 + 2*52
map.cu     = "ğ’œâ„¬ğ’ğ’Ÿâ„°â„±ğ’¢â„‹â„ğ’¥ğ’¦â„’â„³ğ’©ğ’ªğ’«ğ’¬â„›ğ’®ğ’¯ğ’°ğ’±ğ’²ğ’³ğ’´ğ’µğ’¶ğ’·ğ’¸ğ’¹â„¯ğ’»â„Šğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒâ„´ğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“"  // fix â„¬â„°â„±â„‹â„â„³â„›â„¯â„Šâ„´
map.cubf   = "ğ“ğ“‘ğ“’ğ““ğ“”ğ“•ğ“–ğ“—ğ“˜ğ“™ğ“šğ“›ğ“œğ“ğ“ğ“Ÿğ“ ğ“¡ğ“¢ğ“£ğ“¤ğ“¥ğ“¦ğ“§ğ“¨ğ“©ğ“ªğ“«ğ“¬ğ“­ğ“®ğ“¯ğ“°ğ“±ğ“²ğ“³ğ“´ğ“µğ“¶ğ“·ğ“¸ğ“¹ğ“ºğ“»ğ“¼ğ“½ğ“¾ğ“¿ğ”€ğ”ğ”‚ğ”ƒ" // 120016 = 119964 + 52
map.gr     = "Î‘Î’Î“Î”Î•Î–Î—Î˜Î™ÎšÎ›ÎœÎÎÎŸÎ Î¡Î¢Î£Î¤Î¥Î¦Î§Î¨Î©ÎªÎ«Î¬Î­Î®Î¯Î°Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿Ï€ÏÏ‚ÏƒÏ„Ï…Ï†Ï‡ÏˆÏ‰"  // 913
map.gr     = "Î‘Î’ÎÎ”Î•Î¦Î“Î—Î™Î˜ÎšÎ›ÎœÎÎŸÎ Î¢Î¡Î£Î¤Î¥VÎ©Î§Î¨Î–Î±Î²Î¾Î´ÎµÏ†Î³Î·Î¹Î¸ÎºÎ»Î¼Î½Î¿Ï€ÏÏƒÏ„Ï…Ï‚Ï‰Ï‡ÏˆÎ¶"  // 913
map.grbf   = "ğš¨ğš©ğšªğš«ğš¬ğš­ğš®ğš¯ğš°ğš±ğš²ğš³ğš´ğšµğš¶ğš·ğš¸ğš¹ğšºğš»ğš¼ğš½ğš¾ğš¿ğ›€ğ›ğ›‚ğ›ƒğ›„ğ›…ğ›†ğ›‡ğ›ˆğ›‰ğ›Šğ›‹ğ›Œğ›ğ›ğ›ğ›ğ›‘ğ›’ğ›“ğ›”ğ›•ğ›–ğ›—ğ›˜ğ›™ğ›šğ››ğ›œğ›ğ›ğ›Ÿğ› ğ›¡" // 120488
map.grbf   = "ğš¨ğš©ğšµğš«ğš¬ğš½ğšªğš®ğš°ğš¯ğš±ğš²ğš³ğš´ğš¶ğš·ğš¹ğš¸ğšºğš»ğš¼ğ›ğ›€ğš¾ğš¿ğš­ğ›‚ğ›ƒğ›ğ›…ğ›†ğ›Ÿğ›„ğ›ˆğ›Šğ›‰ğ›‹ğ›Œğ›ğ›ğ›ğ›‘ğ›ğ›’ğ›”ğ›•ğ›–ğ››ğ›šğ›˜ğ›™ğ›‡ğ›“ğ›œğ›—ğ›ğ› ğ›¡" // 
map.grit   = "ğ›¢ğ›£ğ›¤ğ›¥ğ›¦ğ›§ğ›¨ğ›©ğ›ªğ›«ğ›¬ğ›­ğ›®ğ›¯ğ›°ğ›±ğ›²ğ›³ğ›´ğ›µğ›¶ğ›·ğ›¸ğ›¹ğ›ºğ›»ğ›¼ğ›½ğ›¾ğ›¿ğœ€ğœğœ‚ğœƒğœ„ğœ…ğœ†ğœ‡ğœˆğœ‰ğœŠğœ‹ğœŒğœğœğœğœğœ‘ğœ’ğœ“ğœ”ğœ•ğœ–ğœ—ğœ˜ğœ™ğœšğœ›" // 120546 = 120488 + 58
map.grit   = "ğ›¢ğ›£ğ›¯ğ›¥ğ›¦ğ›·ğ›¤ğ›¨ğ›ªğ›©ğ›«ğ›¬ğ›­ğ›®ğ›°ğ›±ğ›³ğ›²ğ›´ğ›µğ›¶ğ›»ğ›ºğ›¸ğ›¹ğ›§ğ›¼ğ›½ğœ‰ğ›¿ğœ€ğœ™ğ›¾ğœ‚ğœ„ğœƒğœ…ğœ†ğœ‡ğœˆğœŠğœ‹ğœ—ğœŒğœğœğœğœ•ğœ”ğœ’ğœ“ğœ"  // reordered;  ğœğœ‘ğœ–ğœ˜ğœšğœ›
map.grbfit = "ğœœğœğœğœŸğœ ğœ¡ğœ¢ğœ£ğœ¤ğœ¥ğœ¦ğœ§ğœ¨ğœ©ğœªğœ«ğœ¬ğœ­ğœ®ğœ¯ğœ°ğœ±ğœ²ğœ³ğœ´ğœµğœ¶ğœ·ğœ¸ğœ¹ğœºğœ»ğœ¼ğœ½ğœ¾ğœ¿ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•" // 120604 = 120488 + 2*58
map.grbfit = "ğœœğœğœ©ğœŸğœ ğœ±ğœğœ¢ğœ¤ğœ£ğœ¥ğœ¦ğœ§ğœ¨ğœªğœ«ğœ­ğœ¬ğœ®ğœ¯ğœ°ğœµğœ´ğœ²ğœ³ğœ¡ğœ¶ğœ·ğƒğœ¹ğœºğ“ğœ¸ğœ¼ğœ¾ğœ½ğœ¿ğ€ğğ‚ğ„ğ…ğ‘ğ†ğˆğ‰ğŠğğğŒğğœ»" // ğ‹ğ’ğğ”ğ• 
map.grbf   = "ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğ" // 120662 =  120488 + 3*58
map.grbf   = "ğ–ğ—ğ£ğ™ğšğ«ğ˜ğœğğğŸğ ğ¡ğ¢ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ¯ğ®ğ¬ğ­ğ›ğ°ğ±ğ½ğ³ğ´ğğ²ğ¶ğ¸ğ·ğ¹ğºğ»ğ¼ğ¾ğ¿ğ‹ğ€ğ‚ğƒğ„ğ‰ğˆğ†ğ‡ğµ" // ğğ…ğŠğŒğğ
map.grbfit = "ğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğ´ğµğ¶ğ·ğ¸ğ¹ğºğ»ğ¼ğ½ğ¾ğ¿ğŸ€ğŸğŸ‚ğŸƒğŸ„ğŸ…ğŸ†ğŸ‡ğŸˆğŸ‰" // 120720 = 120488 + 4*58
map.grbfit = "ğğ‘ğğ“ğ”ğ¥ğ’ğ–ğ˜ğ—ğ™ğšğ›ğœğğŸğ ğ¡ğ¢ğ£ğ¤ğ©ğ¦ğ¨ğ§ğ•ğªğ«ğ·ğ­ğ®ğŸ‡ğ¬ğ°ğ±ğ²ğ³ğ´ğµğ¶ğ¸ğ¹ğŸ…ğºğ¼ğ½ğ¾ğŸƒğŸ‚ğŸ€ğŸğ¯" // ğ¿ğ»ğŸ„ğŸ†ğŸˆğŸ‰
map.mono   = "ğ™°ğ™±ğ™²ğ™³ğ™´ğ™µğ™¶ğ™·ğ™¸ğ™¹ğ™ºğ™»ğ™¼ğ™½ğ™¾ğ™¿ğš€ğšğš‚ğšƒğš„ğš…ğš†ğš‡ğšˆğš‰ğšŠğš‹ğšŒğšğšğšğšğš‘ğš’ğš“ğš”ğš•ğš–ğš—ğš˜ğš™ğššğš›ğšœğšğšğšŸğš ğš¡ğš¢ğš£" // 120432

for (k of Object.keys(map))
    map[k] = [...map[k]]   // strings to lists

function fmt(ch, map_to, map_from=map_Az) {
    n = map_from.indexOf(ch)
    if (n > -1) ch = map_to[n]
    return ch
}

function fmts(s, ...args) {
    return [...s].map(ch => fmt(ch, ...args)).join("")
}

math_keynames = {'Alpha': 'Î‘','Beta': 'Î’','Gamma': 'Î“','Delta': 'Î”','Epsilon': 'Î•','Zeta': 'Î–','Eta': 'Î—','Theta': 'Î˜','Iota': 'Î™','Kappa': 'Îš','Lambda': 'Î›','upMu': 'Îœ','upNu': 'Î','Xi': 'Î','upOmicron': 'ÎŸ','Pi': 'Î ','Rho': 'Î¡','Sigma': 'Î£','Tau': 'Î¤','Upsilon': 'Î¥','Phi': 'Î¦','Chi': 'Î§','Psi': 'Î¨','Omega': 'Î©','alpha': 'Î±','beta': 'Î²','gamma': 'Î³','delta': 'Î´','upepsilon': 'Îµ','zeta': 'Î¶','eta': 'Î·','theta': 'Î¸','iota': 'Î¹','kappa': 'Îº','lambda': 'Î»','mu': 'Î¼','nu': 'Î½','xi': 'Î¾','upomicron': 'Î¿','pi': 'Ï€','rho': 'Ï','varsigma': 'Ï‚','sigma': 'Ïƒ','tau': 'Ï„','upsilon': 'Ï…','varphi': 'Ï†','chi': 'Ï‡','psi': 'Ïˆ','omega': 'Ï‰','upvarbeta': 'Ï','vartheta': 'Ï‘','phi': 'Ï•','varpi': 'Ï–', "int": "âˆ«", "sum": "Î£", "*": "â‹…",}

for ([math_key, val] of Object.entries(math_keynames))
    math_keynames[fmts(math_key, map.it)] = fmts(val, map.grit, map.gr)

math_ops = "sin,cos,tan,cot,arctan,arccot,"
math_ops += math_ops.replaceAll(",", "h,")  // hyperbolic
math_ops += "ln,exp,log"
math_ops.split(",").map(s => math_keynames[fmts(s, map.it)] = s)

// sub- and superscripts
sup_keys = "0123456789+-=()abcdefghijklmnoprstuvwxyzABDEGHIJKLMNOPRTUVW"
sup_vals = "â°Â¹Â²Â³â´âµâ¶â·â¸â¹âºâ»â¼â½â¾áµƒáµ‡á¶œáµˆáµ‰á¶ áµÊ°â±Ê²áµË¡áµâ¿áµ’áµ–Ê³Ë¢áµ—áµ˜áµ›Ê·Ë£Ê¸á¶»á´¬á´®á´°á´±á´³á´´á´µá´¶á´·á´¸á´¹á´ºá´¼á´¾á´¿áµ€áµâ±½áµ‚"
sub_keys = "0123456789+-=()aehijklmnoprstuvx"
sub_vals = "â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚Šâ‚‹â‚Œâ‚â‚â‚â‚‘â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“";
[...sup_keys].forEach((key, i) => math_keynames["^"+key] = sup_vals[i]);
[...sub_keys].forEach((key, i) => math_keynames["_"+key] = sub_vals[i]);

function fmt_unicode(text) {

    if (text == null) return false
    if (auto_math.checked) {
        ch = fmts(text, map.it)
        query = input.value.slice(0,input.selectionEnd) + ch
        for ([math_key, val] of Object.entries(math_keynames)) {
            if (query.endsWith(math_key)) {
                input.setSelectionRange(input.selectionEnd-math_key.length+ch.length, input.selectionEnd)
                taInsert(val)
                return true
            }
        }
        taInsert(ch)
        return true
    }
    key = ''
    if (!serif.checked) {key += 'ss'}
    if (greek.checked) {key = 'gr'}
    if (bold.checked) key += 'bf'
    if (italic.checked)  key += 'it'
    else if (cursive.checked) key = 'cu' + key
    if (mono.checked) key = 'mono'
    if (!key) return false
    taInsert(fmt(text, map[key]))
    return true
}

function fmt_selection(font_pos) {
   sel = input.value.substring(input.selectionStart, input.selectionEnd)
   if (sel) taInsert([...sel].map(ch => fmt(ch, font_pos)).join(""))
}

function taInsert(text, start, end=null) {
    input.focus()
    document.execCommand('insertText', false, text)
}

greek_ch = "Î±Î²Î³Î´ÎµÎ¶Î·Î¸Î¹ÎºÎ»Î¼Î½Î¾Î¿Ï€ÏÏ‚ÏƒÏ„Ï…Ï†Ï‡ÏˆÏ‰"
Greek_ch = "Î‘Î’Î“Î”Î•Î–Î—Î˜Î™ÎšÎ›ÎœÎÎÎŸÎ Î¡Î£Î¤Î¥Î¦Î§Î¨Î©";
math_ch = "â°Â¹Â²Â³â´âµâ¶â·â¸â¹âºâ»â¼â½â¾â¿â±â‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚Šâ‚‹â‚Œâ‚â‚â‚â‚‘â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“â‚”âˆšâˆ›âˆœÃ—Ã·Â±âˆ“â‰ˆâ‰ â„¯âˆâ‰ˆâ‰…âˆ‚â€²â€³â€´âˆ†âˆ«âˆ¬âˆ®âŠ•Ã—âœ•"; // http://xahlee.info/comp/unicode_math_operators.html
// math_ch += "+<=>|~Â¬Â±Ã—Ã·Ï¶Ø†Ø‡Øˆâ„â’âºâ»â¼â‚Šâ‚‹â‚Œâ„˜â…€â…â…‚â…ƒâ…„â…‹â†â†‘â†’â†“â†”â†šâ†›â† â†£â†¦â†®â‡â‡â‡’â‡”â‡´â‡µâ‡¶â‡·â‡¸â‡¹â‡ºâ‡»â‡¼â‡½â‡¾â‡¿âˆ€âˆâˆ‚âˆƒâˆ„âˆ…âˆ†âˆ‡âˆˆâˆ‰âˆŠâˆ‹âˆŒâˆâˆâˆâˆâˆ‘âˆ’âˆ“âˆ”âˆ•âˆ–âˆ—âˆ˜âˆ™âˆšâˆ›âˆœâˆâˆâˆŸâˆ âˆ¡âˆ¢âˆ£âˆ¤âˆ¥âˆ¦âˆ§âˆ¨âˆ©âˆªâˆ«âˆ¬âˆ­âˆ®âˆ¯âˆ°âˆ±âˆ²âˆ³âˆ´âˆµâˆ¶âˆ·âˆ¸âˆ¹âˆºâˆ»âˆ¼âˆ½âˆ¾âˆ¿â‰€â‰â‰‚â‰ƒâ‰„â‰…â‰†â‰‡â‰ˆâ‰‰â‰Šâ‰‹â‰Œâ‰â‰â‰â‰â‰‘â‰’â‰“â‰”â‰•â‰–â‰—â‰˜â‰™â‰šâ‰›â‰œâ‰â‰â‰Ÿâ‰ â‰¡â‰¢â‰£â‰¤â‰¥â‰¦â‰§â‰¨â‰©â‰ªâ‰«â‰¬â‰­â‰®â‰¯â‰°â‰±â‰²â‰³â‰´â‰µâ‰¶â‰·â‰¸â‰¹â‰ºâ‰»â‰¼â‰½â‰¾â‰¿âŠ€âŠâŠ‚âŠƒâŠ„âŠ…âŠ†âŠ‡âŠˆâŠ‰âŠŠâŠ‹âŠŒâŠâŠâŠâŠâŠ‘âŠ’âŠ“âŠ”âŠ•âŠ–âŠ—âŠ˜âŠ™âŠšâŠ›âŠœâŠâŠâŠŸâŠ âŠ¡âŠ¢âŠ£âŠ¤âŠ¥âŠ¦âŠ§âŠ¨âŠ©âŠªâŠ«âŠ¬âŠ­âŠ®âŠ¯âŠ°âŠ±âŠ²âŠ³âŠ´âŠµâŠ¶âŠ·âŠ¸âŠ¹âŠºâŠ»âŠ¼âŠ½âŠ¾âŠ¿â‹€â‹â‹‚â‹ƒâ‹„â‹…â‹†â‹‡â‹ˆâ‹‰â‹Šâ‹‹â‹Œâ‹â‹â‹â‹â‹‘â‹’â‹“â‹”â‹•â‹–â‹—â‹˜â‹™â‹šâ‹›â‹œâ‹â‹â‹Ÿâ‹ â‹¡â‹¢â‹£â‹¤â‹¥â‹¦â‹§â‹¨â‹©â‹ªâ‹«â‹¬â‹­â‹®â‹¯â‹°â‹±â‹²â‹³â‹´â‹µâ‹¶â‹·â‹¸â‹¹â‹ºâ‹»â‹¼â‹½â‹¾â‹¿âŒˆâŒ‰âŒŠâŒ‹âŒ âŒ¡â¼â›âœâââŸâ â¡â¢â£â¤â¥â¦â§â¨â©âªâ«â¬â­â®â¯â°â±â²â³âœâââŸâ â¡â–·â—â—¸â—¹â—ºâ—»â—¼â—½â—¾â—¿â™¯âŸ€âŸâŸ‚âŸƒâŸ„âŸ‡âŸˆâŸ‰âŸŠâŸŒâŸâŸâŸâŸ‘âŸ’âŸ“âŸ”âŸ•âŸ–âŸ—âŸ˜âŸ™âŸšâŸ›âŸœâŸâŸâŸŸâŸ âŸ¡âŸ¢âŸ£âŸ¤âŸ¥âŸ°âŸ±âŸ²âŸ³âŸ´âŸµâŸ¶âŸ·âŸ¸âŸ¹âŸºâŸ»âŸ¼âŸ½âŸ¾âŸ¿â¤€â¤â¤‚â¤ƒâ¤„â¤…â¤†â¤‡â¤ˆâ¤‰â¤Šâ¤‹â¤Œâ¤â¤â¤â¤â¤‘â¤’â¤“â¤”â¤•â¤–â¤—â¤˜â¤™â¤šâ¤›â¤œâ¤â¤â¤Ÿâ¤ â¤¡â¤¢â¤£â¤¤â¤¥â¤¦â¤§â¤¨â¤©â¤ªâ¤«â¤¬â¤­â¤®â¤¯â¤°â¤±â¤²â¤³â¤´â¤µâ¤¶â¤·â¤¸â¤¹â¤ºâ¤»â¤¼â¤½â¤¾â¤¿â¥€â¥â¥‚â¥ƒâ¥„â¥…â¥†â¥‡â¥ˆâ¥‰â¥Šâ¥‹â¥Œâ¥â¥â¥â¥â¥‘â¥’â¥“â¥”â¥•â¥–â¥—â¥˜â¥™â¥šâ¥›â¥œâ¥â¥â¥Ÿâ¥ â¥¡â¥¢â¥£â¥¤â¥¥â¥¦â¥§â¥¨â¥©â¥ªâ¥«â¥¬â¥­â¥®â¥¯â¥°â¥±â¥²â¥³â¥´â¥µâ¥¶â¥·â¥¸â¥¹â¥ºâ¥»â¥¼â¥½â¥¾â¥¿â¦€â¦â¦‚â¦™â¦šâ¦›â¦œâ¦â¦â¦Ÿâ¦ â¦¡â¦¢â¦£â¦¤â¦¥â¦¦â¦§â¦¨â¦©â¦ªâ¦«â¦¬â¦­â¦®â¦¯â¦°â¦±â¦²â¦³â¦´â¦µâ¦¶â¦·â¦¸â¦¹â¦ºâ¦»â¦¼â¦½â¦¾â¦¿â§€â§â§‚â§ƒâ§„â§…â§†â§‡â§ˆâ§‰â§Šâ§‹â§Œâ§â§â§â§â§‘â§’â§“â§”â§•â§–â§—â§œâ§â§â§Ÿâ§ â§¡â§¢â§£â§¤â§¥â§¦â§§â§¨â§©â§ªâ§«â§¬â§­â§®â§¯â§°â§±â§²â§³â§´â§µâ§¶â§·â§¸â§¹â§ºâ§»â§¾â§¿â¨€â¨â¨‚â¨ƒâ¨„â¨…â¨†â¨‡â¨ˆâ¨‰â¨Šâ¨‹â¨Œâ¨â¨â¨â¨â¨‘â¨’â¨“â¨”â¨•â¨–â¨—â¨˜â¨™â¨šâ¨›â¨œâ¨â¨â¨Ÿâ¨ â¨¡â¨¢â¨£â¨¤â¨¥â¨¦â¨§â¨¨â¨©â¨ªâ¨«â¨¬â¨­â¨®â¨¯â¨°â¨±â¨²â¨³â¨´â¨µâ¨¶â¨·â¨¸â¨¹â¨ºâ¨»â¨¼â¨½â¨¾â¨¿â©€â©â©‚â©ƒâ©„â©…â©†â©‡â©ˆâ©‰â©Šâ©‹â©Œâ©â©â©â©â©‘â©’â©“â©”â©•â©–â©—â©˜â©™â©šâ©›â©œâ©â©â©Ÿâ© â©¡â©¢â©£â©¤â©¥â©¦â©§â©¨â©©â©ªâ©«â©¬â©­â©®â©¯â©°â©±â©²â©³â©´â©µâ©¶â©·â©¸â©¹â©ºâ©»â©¼â©½â©¾â©¿âª€âªâª‚âªƒâª„âª…âª†âª‡âªˆâª‰âªŠâª‹âªŒâªâªâªâªâª‘âª’âª“âª”âª•âª–âª—âª˜âª™âªšâª›âªœâªâªâªŸâª âª¡âª¢âª£âª¤âª¥âª¦âª§âª¨âª©âªªâª«âª¬âª­âª®âª¯âª°âª±âª²âª³âª´âªµâª¶âª·âª¸âª¹âªºâª»âª¼âª½âª¾âª¿â«€â«â«‚â«ƒâ«„â«…â«†â«‡â«ˆâ«‰â«Šâ«‹â«Œâ«â«â«â«â«‘â«’â«“â«”â«•â«–â«—â«˜â«™â«šâ«›â«œâ«â«â«Ÿâ« â«¡â«¢â«£â«¤â«¥â«¦â«§â«¨â«©â«ªâ««â«¬â«­â«®â«¯â«°â«±â«²â«³â«´â«µâ«¶â«·â«¸â«¹â«ºâ«»â«¼â«½â«¾â«¿â¬°â¬±â¬²â¬³â¬´â¬µâ¬¶â¬·â¬¸â¬¹â¬ºâ¬»â¬¼â¬½â¬¾â¬¿â­€â­â­‚â­ƒâ­„â­‡â­ˆâ­‰â­Šâ­‹â­Œï¬©ï¹¢ï¹¤ï¹¥ï¹¦ï¼‹ï¼œï¼ï¼ï½œï½ï¿¢ï¿©ï¿ªï¿«ï¿¬ğ›ğ››ğ›»ğœ•ğœµğğ¯ğ‰ğ©ğŸƒ"; //https://www.classe.cornell.edu/~dms79/LectureNotes/formulae/list-of-math-symbols-extended.htm
[...greek_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="taInsert(this.value)">')
keyboard.innerHTML += "<br>";
[...Greek_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="taInsert(this.value)">')
keyboard.innerHTML += "<br>";
[...math_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="taInsert(this.value)">')

</script>
</body>
</html>
