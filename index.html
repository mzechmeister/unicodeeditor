<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>unicode editor</title>
</head>
<style>
textarea {
  font-size: x-large;
/*   font-family: Times New Roman; */
  height: 20em;
  width: 80ch;
}

[type=checkbox] {
  display: none
}

label {
  background: #ddd;
  border: black solid 1px;
  border-radius: 3px;
  display:inline-block;
  text-align: center;
  width: 3ch;
}

:checked + label {
  background: #aaa;
}

[type=button] {
  font-family: inherit;
  margin: 1px;
  width: 3ch;
}

#menubar {
  display: flex;
}

hr {
  flex-grow: 1;
  margin-left: 0px;
  border: 0;
}
</style>

<body>
<div id="menubar">
<input type="checkbox" id="bold" onclick="this.checked && fmt_selection(map_Bf); input.focus();"><label for="bold">𝗕</label>
<input type="checkbox" id="italic" onclick="this.checked && fmt_selection(map_It); input.focus();"><label for="italic">𝐼</label>
<input type="checkbox" id="cursive" onclick="this.checked && fmt_selection(map_Cu); input.focus();"><label for="cursive">𝒞</label>
<input type="checkbox" id="greek" onclick="this.checked && fmt_selection(map_gr); input.focus();"><label for="greek">α</label>
<input type="checkbox" id="math" onclick="input.focus();"><label for="math">∮</label>
<hr>
<span>basic font </span> <select name="basicfont" id="basicfont" onchange='input.style.setProperty("font-family", this.value); keyboard.style.setProperty("font-family", this.value)'>
  <option value="none" selected></option>
  <option value="Times">Times</option>
  <option value="Arial">Arial</option>
  <option value="Arial, sans-serif">Arial, sans-serif</option>
  <option value="Monospace">Monospace</option>
</select>
</div>
<div style="display: flex">
<input type="number" id="codePoint" onchange="abc.value = [...Array(100)].map((x,i) => String.fromCodePoint(+i+(+this.value))).join('')" step="52">
<input id="abc" onchange="codePoint.value = this.value.codePointAt(0)" style="flex: 1;">
</div>
<textarea id="input" onbeforeinput="fmt_unicode(event.data) && event.preventDefault();"></textarea>
<br>
<!-- <textarea id="output">ͰͱͲͳʹͶͷͺͻͼͽͿΆΈΉΊΌΎΏΐΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξοπρςστυφχψωϊϋόύώϏϐϑϒϓϔϕϖϗϘϙϚϛϜϝϞϟϠϡϰϱϲϳϴϵϷϸϹϺϻϼϽϾϿ</textarea> -->
<div id="keyboard"></div>
<br>
see also
translate https://yaytext.com/bold-italic
italic greek http://xahlee.info/comp/unicode_greek_alphabet.html
reasons to not use Unicode: https://axbom.com/dont-fake-bold-and-italic-text-with-unicode
http://xahlee.info/comp/unicode_math_operators.html
<script>

Apos = "A".codePointAt(0)
Zpos = "Z".codePointAt(0)
apos = "a".codePointAt(0)
zpos = "z".codePointAt(0)
map_Bf = "𝗔".codePointAt(0)
map_bf = "𝗮".codePointAt(0)
map_it = "𝑎".codePointAt(0)
map_It = "𝐴".codePointAt(0)
map_BfIt = "𝑨".codePointAt(0)
map_gr = "Α".codePointAt(0)
map_grIt = "𝛢".codePointAt(0)
map_Cu = "𝒜".codePointAt(0)

"𝛼".codePointAt(0) - "a".codePointAt(0); 
String.fromCodePoint("??".codePointAt(0)+230) // "??" 

function fmt_unicode(text) {
    d = 6
    if (text==null) return false
    else if (greek.checked & italic.checked) {map_char = map_grIt}
    else if (greek.checked) {map_char = map_gr; d=0}
    else if (bold.checked & italic.checked) map_char = map_BfIt
    else if (bold.checked) map_char = map_Bf
    else if (italic.checked) map_char = map_It
    else if (cursive.checked) map_char = map_Cu
    else return false
    taInsert(fmt(text, map_char, d))
    return true
}

function fmt_selection(font_pos) {
   sel = input.value.substring(input.selectionStart, input.selectionEnd)
   if (sel) taInsert([...sel].map(ch => fmt(ch, font_pos)).join(""))
}


Aa_num = ch => (n=ch.charCodeAt(0), (n >= Apos && n <= Zpos) ?  n-65 : (n >= apos && n <= zpos) ? n-Apos-(apos-Zpos)+1 : null)

fmt = (ch, font_pos, d=6) => {
  n = Aa_num(ch)
  if (n === null) return ch
  return String.fromCodePoint(font_pos + n)
};


function taInsert(text, start, end=null) {
    input.focus();
    //ta.setSelectionRange(start, end)
    document.execCommand('insertText', false, text)
}
function putchar(ch){
  taInsert(ch)
}

greek_ch = "αβγδεζηθικλμνξοπρςστυφχψω"
Greek_ch = "ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩ";
math_ch = "⁰¹²³⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿⁱ₀₁₂₃₄₅₆₇₈₉₊₋₌₍₎ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓₔ√∛∜×÷±∓≈≠ℯ∞≈≅∂′″‴∆∫∬∮⊕×✕"; // http://xahlee.info/comp/unicode_math_operators.html
// math_ch += "+<=>|~¬±×÷϶؆؇؈⁄⁒⁺⁻⁼₊₋₌℘⅀⅁⅂⅃⅄⅋←↑→↓↔↚↛↠↣↦↮⇎⇏⇒⇔⇴⇵⇶⇷⇸⇹⇺⇻⇼⇽⇾⇿∀∁∂∃∄∅∆∇∈∉∊∋∌∍∎∏∐∑−∓∔∕∖∗∘∙√∛∜∝∞∟∠∡∢∣∤∥∦∧∨∩∪∫∬∭∮∯∰∱∲∳∴∵∶∷∸∹∺∻∼∽∾∿≀≁≂≃≄≅≆≇≈≉≊≋≌≍≎≏≐≑≒≓≔≕≖≗≘≙≚≛≜≝≞≟≠≡≢≣≤≥≦≧≨≩≪≫≬≭≮≯≰≱≲≳≴≵≶≷≸≹≺≻≼≽≾≿⊀⊁⊂⊃⊄⊅⊆⊇⊈⊉⊊⊋⊌⊍⊎⊏⊐⊑⊒⊓⊔⊕⊖⊗⊘⊙⊚⊛⊜⊝⊞⊟⊠⊡⊢⊣⊤⊥⊦⊧⊨⊩⊪⊫⊬⊭⊮⊯⊰⊱⊲⊳⊴⊵⊶⊷⊸⊹⊺⊻⊼⊽⊾⊿⋀⋁⋂⋃⋄⋅⋆⋇⋈⋉⋊⋋⋌⋍⋎⋏⋐⋑⋒⋓⋔⋕⋖⋗⋘⋙⋚⋛⋜⋝⋞⋟⋠⋡⋢⋣⋤⋥⋦⋧⋨⋩⋪⋫⋬⋭⋮⋯⋰⋱⋲⋳⋴⋵⋶⋷⋸⋹⋺⋻⋼⋽⋾⋿⌈⌉⌊⌋⌠⌡⍼⎛⎜⎝⎞⎟⎠⎡⎢⎣⎤⎥⎦⎧⎨⎩⎪⎫⎬⎭⎮⎯⎰⎱⎲⎳⏜⏝⏞⏟⏠⏡▷◁◸◹◺◻◼◽◾◿♯⟀⟁⟂⟃⟄⟇⟈⟉⟊⟌⟎⟏⟐⟑⟒⟓⟔⟕⟖⟗⟘⟙⟚⟛⟜⟝⟞⟟⟠⟡⟢⟣⟤⟥⟰⟱⟲⟳⟴⟵⟶⟷⟸⟹⟺⟻⟼⟽⟾⟿⤀⤁⤂⤃⤄⤅⤆⤇⤈⤉⤊⤋⤌⤍⤎⤏⤐⤑⤒⤓⤔⤕⤖⤗⤘⤙⤚⤛⤜⤝⤞⤟⤠⤡⤢⤣⤤⤥⤦⤧⤨⤩⤪⤫⤬⤭⤮⤯⤰⤱⤲⤳⤴⤵⤶⤷⤸⤹⤺⤻⤼⤽⤾⤿⥀⥁⥂⥃⥄⥅⥆⥇⥈⥉⥊⥋⥌⥍⥎⥏⥐⥑⥒⥓⥔⥕⥖⥗⥘⥙⥚⥛⥜⥝⥞⥟⥠⥡⥢⥣⥤⥥⥦⥧⥨⥩⥪⥫⥬⥭⥮⥯⥰⥱⥲⥳⥴⥵⥶⥷⥸⥹⥺⥻⥼⥽⥾⥿⦀⦁⦂⦙⦚⦛⦜⦝⦞⦟⦠⦡⦢⦣⦤⦥⦦⦧⦨⦩⦪⦫⦬⦭⦮⦯⦰⦱⦲⦳⦴⦵⦶⦷⦸⦹⦺⦻⦼⦽⦾⦿⧀⧁⧂⧃⧄⧅⧆⧇⧈⧉⧊⧋⧌⧍⧎⧏⧐⧑⧒⧓⧔⧕⧖⧗⧜⧝⧞⧟⧠⧡⧢⧣⧤⧥⧦⧧⧨⧩⧪⧫⧬⧭⧮⧯⧰⧱⧲⧳⧴⧵⧶⧷⧸⧹⧺⧻⧾⧿⨀⨁⨂⨃⨄⨅⨆⨇⨈⨉⨊⨋⨌⨍⨎⨏⨐⨑⨒⨓⨔⨕⨖⨗⨘⨙⨚⨛⨜⨝⨞⨟⨠⨡⨢⨣⨤⨥⨦⨧⨨⨩⨪⨫⨬⨭⨮⨯⨰⨱⨲⨳⨴⨵⨶⨷⨸⨹⨺⨻⨼⨽⨾⨿⩀⩁⩂⩃⩄⩅⩆⩇⩈⩉⩊⩋⩌⩍⩎⩏⩐⩑⩒⩓⩔⩕⩖⩗⩘⩙⩚⩛⩜⩝⩞⩟⩠⩡⩢⩣⩤⩥⩦⩧⩨⩩⩪⩫⩬⩭⩮⩯⩰⩱⩲⩳⩴⩵⩶⩷⩸⩹⩺⩻⩼⩽⩾⩿⪀⪁⪂⪃⪄⪅⪆⪇⪈⪉⪊⪋⪌⪍⪎⪏⪐⪑⪒⪓⪔⪕⪖⪗⪘⪙⪚⪛⪜⪝⪞⪟⪠⪡⪢⪣⪤⪥⪦⪧⪨⪩⪪⪫⪬⪭⪮⪯⪰⪱⪲⪳⪴⪵⪶⪷⪸⪹⪺⪻⪼⪽⪾⪿⫀⫁⫂⫃⫄⫅⫆⫇⫈⫉⫊⫋⫌⫍⫎⫏⫐⫑⫒⫓⫔⫕⫖⫗⫘⫙⫚⫛⫝̸⫝⫞⫟⫠⫡⫢⫣⫤⫥⫦⫧⫨⫩⫪⫫⫬⫭⫮⫯⫰⫱⫲⫳⫴⫵⫶⫷⫸⫹⫺⫻⫼⫽⫾⫿⬰⬱⬲⬳⬴⬵⬶⬷⬸⬹⬺⬻⬼⬽⬾⬿⭀⭁⭂⭃⭄⭇⭈⭉⭊⭋⭌﬩﹢﹤﹥﹦＋＜＝＞｜～￢￩￪￫￬𝛁𝛛𝛻𝜕𝜵𝝏𝝯𝞉𝞩𝟃"; //https://www.classe.cornell.edu/~dms79/LectureNotes/formulae/list-of-math-symbols-extended.htm
[...greek_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="putchar(this.value)">')
keyboard.innerHTML += "<br>";
[...Greek_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="putchar(this.value)">')
keyboard.innerHTML += "<br>";
[...math_ch].forEach(ch => keyboard.innerHTML += '<input type="button" value="'+ch+'" onclick="putchar(this.value)">')

</script>
</body>
</html>
